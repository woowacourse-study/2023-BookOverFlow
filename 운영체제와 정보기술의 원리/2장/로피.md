# 2장 운영체제 개요

# 1. 운영 체제의 정의

**운영체제**

- 컴퓨터 하드웨어 바로 윗단에 설치되는 소프트웨어
- 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 소프트웨어 계층
- `operating system`
    - 하드웨어가 운영체제와 한 몸이 되어야만 사용자에게 쓰일 수 있는 진정한 컴퓨터 시스템이 된다.
- 전원을 켰을 때 운영체제가 없으면 그 컴퓨터는 고철 덩어리에 불과하며, 이와 같은 고철 덩어리를 동작시키기 위해서 필요한 기본적인 소프트웨어
- 컴퓨터 전원을 켜면 동시에 실행되고 메모리에 올라간다.
    - 운영체제 중 항상 필요한 부분만을 전원이 켜짐과 동시에 메모리에 올려놓고 그렇지 않은 부분은 필요할 때 메모리에 올려서 사용하게 된다.
    - 커널(좁은 의미의 운영체제) - 메모리에 상주하는 운영체제 부분, 운영체제 코드 중에서 핵심적인 부분
    - 넓은 의미의 운영체제 - 커널 + 시스템을 위한 유틸리티(운영체제의 일부라고 보기는 힘들지만 운영체제와 함께 설치)

# 2. 운영체제의 기능

1. 컴퓨터 시스템 내의 자원을 효율적으로 관리(핵심 기능)

- 운영체제를 `자원관리자`라고 부르기도 함
- 자원이란, 하드웨어 자원뿐만 아니라 소프트웨어 자원까지 통칭
- 자원들을 효율적으로 관리해 가장 좋은 성능을 내도록 하는 역할 담당
- 사용자 및 프로그램들 간에 자원이 형평성 있게 분배되도록 하는 균형자 역할도 수행

2. 컴퓨터 시스템을 편리하게 사용할 수 있는 환경을 제공

- 하드웨어를 직접 다루는 복잡한 부분은 운영체제가 대행해주고, 각 사용자 및 프로그램은 그에 대한 자세한 내용을 알지 못해도 프로그램을 실행할 수 있도록 해주는 기능

3. 사용자와 운영체제 자신을 보호하는 역할

# 3. 운영체제의 분류

**동시 작업을 지원하는지의 여부**

- 단일작업용 운영체제
    - 한 번에 하나의 프로그램만 실행시킬 수 있는 운영체제
- 다중작업용 운영체제
    - 동시에 2개 이상의 프로그램을 처리할 수 있는 운영체제
    - 여러 프로그램이 CPU와 메모리 공유
    - 짧은 시간 규모로 여러 프로그램들이 CPU에서 번갈아 실행되면 사용자 입장에서 여러프로그램이 동시에 실행되는 것처럼 보임 → 작업시간을 여러 프로그램들이 조금씩 나누어 쓰는 시스템을 `시분할 시스템`
    - 메모리 공간을 분할해 여러 프로그램들을 동시에 메모리에 올려놓고 처리하는 시스템 → `다중 프로그래밍 시스템`
    - 여러 프로그램을 같이 실행시키지만, 사용자 개개인의 관점에서는 각 프로그램에 대한 키보드 입력의 결과를 곧바로 화면에 보여주는 시스템 → `대화형 시스템`
    - 하나의 컴퓨터 안에 CPU가 여러 개 설치된 경우 → `다중처리기 시스템`

**다중 사용자에 대한 동시 지원 여부**

- 단일 사용자용 운영체제
    - 한 번에 한 명의 사용자만 이 사용하도록 허용하는 운영체제
- 다중 사용자용 운영체제
    - 여러 사용자가 동시에 접속해 사용할 수 있게 하는 운영체제

**작업을 처리하는 방식**

- 일괄처리 방식
    - 요청된 작업을 일정량씩 모아서 한꺼번에 처리하는 방식
    - 처리해야 할 여러 작업들을 모아 일정량이 쌓이면 일괄 처리, 모든 작업이 완전히 종료된 후 결과 얻을 수 있음 → 사용자 입장에서는 응답시간이 길다.
- 시분할 방식
    - 여러 작업을 수행할 때 컴퓨터의 처리 능력을 일정한 시간 단위로 분할해 사용하는 방식
    - 사용자의 요청에 대한 결과를 곧바로 얻을 수 있는 대화형 시스템 → 시분할 방식의 대표적인 특징
- 실시간 운영체제
    - 정해진 시간 안에 어떠한 일이 반드시 처리됨을 보장해야 하는 시스템
        - 일정 시간 안에 작업이 완료되지 못할 경우에는 동작 자체가 되지 않거나 큰 위험을 초래할 가능성이 있는 시스템에서 사용
    - 시간 제약의 중요성에 따라 분류
        - 경성 실시간 시스템
            - 주어진 시간을 지키지 못할 경우 매우 위험한 결과를 초래할 가능성 있는 로켓, 원자로 제어 시스템
        - 연성 실시간 시스템
            - 멀티미디어 스트리밍 시스템과 같이 데이터가 정해진 시간 단위로 전달되어야 올바른 기능을 수행할 수 잇는 시스템

## 4. 운영체제의 예

## 5. 운영체제의 자원 관리 기능

**CPU 스케줄링**

- 매 시점 어떠한 프로세스에 CPU를 할당해 작업을 처리할 것인지 결정하는 일
- CPU를 가장 효율적으로 사용하면서도, 특정 프로세스가 불이익을 당하지 않도록 하는 것
- 선입선출
    - CPU를 사용하기 위해 도착한 프로세스들 중 먼저 온 것을 먼저 처리해주는 방식
    - CPU를 먼저 얻은 프로세스가 원하는 작업을 완료할 때까지 ㄷ른 프로세스들이 CPU 사용하지 못함
    - 전체 시스템 입장에서 비효율적
- 라운드 로빈
    - CPU를 한 번 할당받아  사용할 수 있는 시간을 일정하게 고정된 시간으로 제한
    - 긴 작업을 요하는 프로세스가 CPU를 할당받더라도 정해진 시간이 지나면 CPU를 내어놓고 CPU 대기열 맨 뒤로 가서 줄을 서야한다.
    - 1회 할당 시간을 밀리초 단위로 사용
- 우선순위 스케줄링
    - CPU 사용을 위해 대기 중인 프로세스들에 우선순위를 부여하고 우선순위가 높은 프로세스에 CPU를 먼저 할당
    - 기다린 시간이 늘어날수록 우선순위를 점차 높여주는 방안

**메모리(주요 관리 대상)**

- CPU가 직접 접근할 수 있는 컴퓨터 내부의 기억장치
- 프로그램이 CPU에서 실행되려면 해당 부분이 메모리에 올라가 있어야 한다.
- 메모리의 어느 부분이 어떤 프로그램에 의해 사용되고 있는지를 파악하여 이를 유지한다 → 주소를 통해 관리
- 운영체제는 각 프로세스가 자신의 메모리 영역에만 접근할 수 있도록 관리

**물리적 메모리를 관리하는 방식**

- 고정분할 방식
    - 물리적 메모리를 몇 개의 분할로 미리 나누어 관리
    - 나뉜 각각의 분할에는 하나의 프로그램이 적재
    - 메모리에 동시 적재되는 최대 프로그램의 수가 분할 개수로 한정, 분할의 크기보다 큰 프로그램 적재 불가능 → 융통성이 없다.
    - 분할 고정적 → 내부조각 발생
        - 내부조각은 비효율적으로 낭비되는 공간
- 가변분할 방식
    - 매 시점 프로그램의 크기에 맞게 메모리 분할해서 사용하는 방식
    - 분할의 크기 때문에 실행이 제한되는 문제는 발생하지 않음.
    - 물리적 메모리 크기보다 큰 프로그램 적재 불가능
    - 기술적 관리 기법 필요
    - 외부조각 발생
        - 프로그램에 할당되지는 않았지만 크기가 작아 프로그램을 올리지 못하는 메모리 영역 → 낭비된 메모리 자원
- 가상메모리 방식
    - 물리적 메모리보다 더 큰 프로그램이 실행되는 것을 지원
    - 실행될 수 있는 프로그램의 크기는 가상 메모리의 크기에 의해 결정
    - 물리적 메모리의 크기와 상관없이, 사용할 수 있는 메모리의 크기가 충분히 크다고 가정하고 프로그램 개발
    - 현재 사용되고 있는 부분만 메모리에 올리고, 나머지는 보조기억장치에 저장해두었다가 필요할 때 적재
        - 이 때 사용되는 보조기억장치의 영역 → 스왑 영역
    - 페이징 기법
        - 동일한 단위로 메모리를 나누는 기법
    - 페이징 기법을 통해 가상 메모리 주소공간이 물리적 메모리와 스왑 영역에 일부씩 저장

**인터럽트**

- 주변장치 및 입출력장치 관리하는 매커니즘
- 주변장치들은 CPU의 서비스가 필요한 경우에 신호를 발생시켜 서비스를 요청하는데, 이때 발생시키는 신호
- 운영체제는 인터럽트를 처리한 후 원래 수행하던 작업으로 돌아오기 위해 인터럽트 처리 직전에 수행 중이던 작업의 상태 저장
- 인터럽트의 종류마다 서로 다른 인터럽트 처리루틴 가짐
    - 인터럽트 처리루틴은 인터럽트가 발생했을 때 해주어야 할 작업을 정의한 프로그램 코드 → 커널 코드의 일부분

**컨트롤러**

- 주변장치들이 각 장치마다 그 장치에서 일어나는 업무를 관리하기 위해 가지고 있는 작은 CPU
- 해당 장치에 대한 업무 처리, 메인 CPU에 인터럽트를 발생시켜 보고하는 역할