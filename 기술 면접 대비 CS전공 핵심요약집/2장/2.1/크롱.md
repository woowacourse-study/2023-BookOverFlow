## 2.1 네트워크 계층

### 2.1.1 OSI 7계층
- 네트워크 통신이 이뤄지는 과정을 7단계로 나눈 네트워크 표준 모델
- 데이터를 송신할 때는 높은 계층에서 낮은 계층으로 전달하고, 수신할 때는 낮은 계층에서 높은 계층으로 데이터를 전달한다.
<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/3918c036-ff69-475d-b683-502416e2443f" width=300>
</center>

- 데이터를 송신할 때 각 계층에서 필요한 정보를 추가해 가공하는데 이 때 헤더와 트레일러가 붙으며 이 과정을 **데이터 캡슐화**라고 한다.
- 데이터 캡슐화를 하는 이유는 수신부의 같은 계층에서 데이터 호환성을 높이고 오류의 영향을 최소화하기 위해서다.
<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/21edb40d-a228-4973-9133-e9052e9a8147" width=400>
</center>

<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/ad6d3cad-8ca0-4a5e-8492-661dab6df7c2" width=600>
</center>

- 응용 계층(Application Layer)
  - HTTP, FTP 등 프로토콜을 응용 프로그램의 UI를 통해 제공한다.
- 표현 계층(Presentation Layer)
  - 데이터를 표준화된 방식으로 변경한다.
- 세션 계층(Session Layer)
  - 세션의 유지 및 해제 등 응용 프로그램 간 통신 제어와 동기화를 한다.
- 전송 계층(Transport Layer)
  - 신뢰성 있는 데이터를 전달하기 위한 계층으로, TCP, UDP 같은 전송 방식과 포트 번호 등을 결정한다.
- 네트워크 계층(Network Layer)
  - 데이터를 송신부에서 수신부까지 보내기 위한 최적 경로를 선택하는 라우팅을 수행한다.
  - 최적 경로를 라우트라고 한다.
  - 네트워크 계층의 장비로 라우터가 있다.
- 데이터 링크 계층(DataLink Layer)
  - 데이터 흐름을 관리하며 데이터의 오류 검출 및 복구 등을 수행한다.
  - 브리지, 스위치, 이더넷이 데이터 링크 계층의 장비에 해당한다.
  - **맥 주소를 가지고 통신한다.**
- 물리 계층(Physical Layer)
  - 데이터를 비트 단위의 0과 1로 변환한 후 장비를 사용해 전송하거나 전기 신호를 데이터로 복원한다.
  - 리피터, 허브 등이 물리 계층에 해당하는 장비다.
<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/d530a203-fafa-45d5-aeb3-8cf9321527a1" width=300>
</center>

<br><br>

## 2.1.2 TCP/IP 4계층
- TCP/IP는 인터넷에서 데이터를 주고받기 위한 네트워크 프로토콜이다.
- TCP는 데이터를 나눈 단위인 패킷의 전달 여부와 전송 순서를 보장하는 통신 방식이다.
- IP는 패킷을 빠르게 보내기 위한 통신 방식을 의미한다.
<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/55b616a0-b498-43ad-9991-616617aea4d2" width=300>
</center>
<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/4e1d72ed-45f1-4c63-aa27-caabee403b0d" width=600>
</center>

- 응용 계층
  - 사용자와 소프트웨어를 연결해주는 계층으로, HTTP, HTTPS, DNS 등의 프로토콜이 작동한다.
- 전송 계층
  - 데이터의 신뢰성을 보장한다.
  - 포트 번호로 데이터를 적절한 응용 프로그램에 전달하는 역할을 한다.
  - TCP, UDP 등의 프로토콜이 전송 계층에 속한다.
  - 전송 계층의 데이터 단위는 세그먼트라고 한다.
- 인터넷 계층
  - 데이터를 최종 목적지까지 도달할 수 있게 하는 계층이다.
  - IP가 대표적인 프로토콜이다.
  - 전송 계층으로부터 받은 데이터에 헤더를 붙여 캡슐화 하는데, 이를 **패킷** 또는 **데이터그램**이라고 한다.
- 네트워크 인터페이스 계층
  - 네트워크 접근 계층이라고도 한다.
  - 데이터를 전기 신호로 변환하고 MAC 주소를 사용해 기기에 데이터를 전달한다.
  - 이더넷, Wi-Fi등이 해당 계층에 속하는 대표적인 프로토콜이다.

<br><br>

> 패킷

- 네트워크에서 주고받는 데이터를 작게 분할한 단위를 나타낸다.
- 패킷에는 데이터의 송신 주소, 수신 주소 등의 정보가 포함되어 데이터를 목적지에 제대로 전달할 수 있게 한다.

<br>

> MAC 주소

- 48비트로 구성된 하드웨어 고유의 주소로 네트워크 인터페이스 계층에서 사용한다.

<br>

> IP 주소

- IP에서 컴퓨터 또는 네트워크 장치를 식별하기 위한 값이다.
- IPv4는 32bit이며 xxx.xxx.xxx.xxx 형태다.
- IP 주소는 네트워크부와 호스트부로 나뉜다.
- 네트워크부는 해당 주소가 어떠한 네트워크에 속해 있는지 구분하는 값이고, 호스트부는 해당 네트워크에서 어떠한 기기인지를 나타내는 값이다.

<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/b48cec78-688f-417a-95d7-ef3ebd2f9905" width=500>
</center>  

  - 앞의 24자리는 속한 네트워크를 의미하고 뒤의 8자리는 연결된 기기의 번호를 의미한다.

<br>

> 서브넷 마스크

- 서브네팅 : 네트워크 관리자가 네트워크 성능을 향상시키기 위해 자원을 효율적으로 분배하는 것을 말하고 여기서 말하는 분배는 네트워크 영역과 호스트 영역을 나누는 것을 말한다.

- 네트워크와 호스트부를 구분하기 위해 사용한다.
- IP와 동일한 구조다.
- IP주소와 and 연산을 하면 IP 주소에서 네트워크부와 호스트부를 알아낼 수 있다.
- 클래스리스 기반 IP 주소에서 네트워크와 호스트 주소를 구분하기 위해 사용한다.

<br>

> 클래스

- IP는 A, B, C, D, E 클래스로 나뉜다.
- D클래스는 멀티캐스트를 위해 사용하고, E클래스는 예약 되어있다.
- A 클래스 : [네트워크.호스트.호스트.호스트]
- B 클래스 : [네트워크.네트워크.호스트.호스트]
- C 클래스 : [네트워크.네트워크.네트워크.호스트]

<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/911a6ae2-42dc-4cad-b363-e70881faa04f" width=600>
</center>

### 궁금한 점
1. IPv4와 IPv6의 차이는 무엇인가?
- IPv4 주소가 고갈될 것으로 예측하고 IPv6를 만들었다.
- IPv6
  - 주소 공간이 128bit로 증가
  - 헤더의 불필요한 필드를 제거
  - 보안기능이 강화되었다, IPSec 기능을 기본 사항으로 제공
  - 주소를 자동으로 설정