# 2.3 HTTP

> Hyper Text Transfer Protocol은 인터넷상에서 데이터를 전송하기 위한 프로토콜로 TCP/IP 계층에서 응용계층에 속한다.

## 2.3.1 HTTP
1. 비연결성(connectionless)
    - 클라이언트에서 요청을 보낸 후 서버로부터 응답을 받으면 연결을 끊는 것을 의미
    - 비연결성은 불특정 다수를 대상으로 하는 서비스에 유리
    - 단점으로 서버가 클라이언트를 기억할 수 없다는 단점이 있음.
    - 연결 및 해제를 반복해 자원 낭비를 초래
    - 이러한걸 해결하기 위해 HTTP Keep Alive를 사용하여 일정시간 동안 연결을 유지할 수 있음

>[!HTTP Keep Alive]
>HTTP 연결 시 일정 시간 동안 요청을 유지할 수 있도록 사용하는 HTTP 헤더의 일종이다.

2. 무상태(stateless)
    - 서버에서 클라이언트의 상태를 저장하지 않는 것을 의미
    - 이러한 특성 때문에 클라이언트로부터 받은 요청사항을 모두 저장해야 한다. 이 방법들을 쿠키와 세션이라고 한다.
    - 서버 확장성이 높다. 특정 서버에 문제가 생겨 응답하지 못하는 문제점을 보완할 수 있다.

### 용어정리
- 쿠키(cookie): 클라이언트의 로컬 웹브라우저에 저장하는 데이터 파일로, 키와 값을 저장한다. 쿠키의 대표적인 예로는 웹 사이트의 로그인 정보와 온라인 쇼핑몰의 장바구니가 있다.
- 세션(session): 서버에서 클라이언트와의 연결 정보를 저장 및 관리하는 것을 말한다. 서버에서 데이터가 저장되면 보안 면에서는 쿠키보다 좋지만, 접속자가 많을 경우 서버에 부하가 올 수 있다.

HTTP에서는 클라이언트와 서버가 통신하기 위해 정형화된 데이터인 HTTP 메시지를 주고받는다. 이때 HTTP 메시지의 구조는 다음과 같다.

![image](https://github.com/woowacourse-teams/2023-yigongil/assets/22425650/ae37e6e1-ad68-4f77-98eb-1ed16796cb6e)

- 요청 라인(request line): 요청 URI, 요청방법, HTTP 버전 등을 포함
- 상태 라인(status line): 요청에 대한 HTTP 상태 코드와 HTTP 버전을 포함한다.
- 헤더(header): 키-값으로 구성된 다수의 헤더 항목으로 구성된다.
- 빈 줄(blank line): 헤더의 끝을 나타내는 빈 줄로, 헤더와 바디를 구분한다.
- 바디(body): 요청할 때 요청 방법 메서드가 POST인 경우에만 바디가 있고, 그 외 메서드일 때는 비어 있는 상태로 전달한다.

## 2.3.2 HTTPS
> HyperText Transfer Protocol Secure는 보안 계층인 SSL / TLS를 이용해 HTTP의 보안을 강화한 웹통신 프로토콜이다.
> HTTP는 데이터 암호화를 거치지 않고 전송해서 보안에 취약해서 나왔다.

- SSL(Secure Socket Layer)은 넷스케이프에서 개발한 암호화 프로토콜이다.
- TLS(Trasfer Layer Security)는 SSL의 문제점을 보완해 만든 새로운 암호화 프로토콜이다.

HTTPS의 동작 방식은 다음과 같다. 데이터를 송신할 때 응용 계층에서 보안 계층의 SSL/TLS로 데이터를 보내면 데이터를 암호화해 전송 계층으로 전달한다. 그러면 데이터를 수신할 때 전송 계층에서 보낸 데이터를 보안 계층의 SSL/TLS에서 받아 복호화 후 응용 계층으로 보낸다.

## 2.3.3 웹 페이지 접속 과정
![image](https://github.com/woowacourse-teams/2023-yigongil/assets/22425650/8dc72292-f898-4d1c-bfb6-23297e44b8af)

1. 사용자가 URL을 웹 브라우저에 입력한다.
2. 웹 브라우저는 입력한 URL을 바탕으로 DNS(Domain Name System) 서버에 연결할 IP를 요청한다.
3. DNS 서버는 IP 주소를 웹 브라우저에게 응답으로 제공한다.
4. 웹 브라우저는 DNS 서버에서 받은 IP를 통해 웹 서버와 TCP/IP 연결을 하고 HTTP 요청을 보낸다.
5. 웹 서버는 받은 HTTP 요청에 응답한다. 응답은 웹 페이지와 필요한 리소스를 포함한다.
6. 웹 브라우저는 받은 응답을 바탕으로 사용자에게 웹페이지를 보여준다.
