# 5.2 최소 신장 트리

**최소 신장 트리(MST, Minimum Spanning Tree)**

- 가중치가 있는 그래프에서 간선의 가중치 총합이 가장 작은 신장 트리

## 5.2.1 프림 알고리즘

**프림 알고리즘(Prim algorithm)**

- 그리디 알고리즘
- 정점을 기준으로 트리 생성
- 임의의 정점을 시작점으로 트리를 확장하면서 최소 신장 트리 생성하는 방식

**프림 알고리즘 작동 방식**

- 현재 트리에 포함된 정점과 연결된 간선 중 가중치가 작은 간선으로 연결된 정점을 선택하는 과정을 반복하며 모든 정점이 포함될 때까지 트리 확장

![IMG_4153D6B69AF4-1.jpeg](https://github.com/woowacourse-study/2023-cs-study/assets/50761690/73e4cf17-1ee7-42c8-9662-7e7fe19608a2)

**프림 알고리즘 예**

1) 최소 신장 트리를 찾을 그래프, 시작 정점은 S

2) 정점 S에서 탐색 가능한 정점은 A, B, C. 각 정점은 각각 가중치가 3,6,13인 간선과 연결되어 있음. 이 중에서 가장 작은 가중치 3인 간선에 연결된 정점 A를 트리에 추가

3) 정점 S와 A에서 탐색가능한 정점은 B, C, D. 각 정점과 연결된 간선의 최소 가중치는 13,5,18. 이 중에서 가장 작은 가중치 5인 간선으로 연결된 정점 C를 트리에 추가

4) 정점 S,A,C에서 탐색 가능한 정점은 B, D. 각 정점과 연결된 간선의 최소 가중치는 10,1. 이 중에서 가장 작은 가중치인 1인 간선에 연결된 정점 D를 트리에 추가

5) 정점 S,A,C,D에서 탐색가능한 정점 B, E. 각 정점과 연결된 간선의 최소 가중치는 10,9. 이 중에서 가장 작은 가중치인 9인 간선에 연결된 정점 E를 트리에 추가

6) 정점 S,A,C,D,E에서 탐색가능한 정점은 B. 정점 B에 연결된 간선 중 최소 가중치인 7인 간선을 선택해 정점 B를 트리에 추가. 모든 정점이 트리에 포함되었으므로 최소 신장 트리 완성

**그리디 알고리즘(greedy algorithm)**

- 탐욕 알고리즘
- 각 단계에서 최선의 선택이 모여 전역으로 최적의 해결 방안을 찾는 방식
- 2가지 조건을 만족해야함
    1. 앞에서 선택한 결과가 나중의 선택에 영향을 주지 않아야 함
    2. 지역적인 문제에 대한 최선의 선택이 전역적인 문제에 대해서도 최적의 해

## 5.2.2 크루스칼 알고리즘

**크루스칼 알고리즘(Kruskal algorithm)**

- 그리디 알고리즘
- 간선을 기준으로 트리 생성
- 간선을 오름차순으로 정렬한 뒤 가중치가 낮은 간선을 선택하면서 최소 신장 트리를 생성하는 방식
- 특정 간선 선택시 사이클 생성되면 해당 간선을 선택하지 않고 다음으로 가중치가 낮은 간선 확인
- 위 과정을 반복하다가 모든 정점 연결되면 알고리즘 종료
- 가중치의 오름차순으로 간선을 정렬하는 알고리즘 + 사이클의 생성 여부를 판단하는 유니온 파인드(union-find) 알고리즘

![IMG_D1517015F0B5-1.jpeg](https://github.com/woowacourse-study/2023-cs-study/assets/50761690/35574d9e-383d-402a-bb06-89142c00a9ea)

**크루스칼 알고리즘 예**

1) 최소 신장 트리를 구하기 위한 그래프, 간선의 가중치가 각각 다름

2) 전체에서 가중치가 1로 가장 작으면서 정점 D와 E를 연결하는 간선 선택

3) 가중치가 다음으로 작은 가중치 3인 간선 선택, 이 간선은 정점 A와 B 연결

4) 가중치가 그다음으로 작은 가중치 5인 간선 선택, 이 간선은 정점 B와 D 연결

5) 가중치가 그 다음으로 작은 간선은 정점 A와 D를 연결하는 가중치 6인 간선, 그런데 이 간선을 트리에 포함하면 정점 A,B,D 사이에 사이클이 형성되므로 선택할 수 없음

6) 가중치가 다음으로 작은 간선을 찾음. 정점 C와 F를 연결하는 간선이 가중치 7이므로 해당 간선 선택

7) 가중치가 그 다음으로 작은 간선은 정점 E와 정점 F를 연결하는 가중치 9인 간선. 해당 간선을 선택하면 모든 정점이 연결되므로 최소 신장 트리 완성

**유니온 파인드 알고리즘**

- 2개의 원소가 같은 집합에 속하는지 판단하는 알고리즘
- 그래프에서 2개의 노드가 같은 그래프에 속하는지 판별할 수 있음, 그래프에 대표 노드를 설정해 그래프 구분
- 유니온 - 두 노드를 하나의 그래프로 합치는 연산, 파인드 - 특정 노드가 속한 그래프의 대표 노드를 찾는 연산
- 크루스칼 알고리즘에서 사이클 발생을 방지하기 위해 유니온 파인드 알고리즘 사용
    - 두 정점을 선택하고 유니온 파인드 알고리즘을 통해 다른 그래프에 속한다고 판별되면 두 정점 연결
    - 같은 그래프에 속한다고 판별되면 두 정점 연결하지 않음
