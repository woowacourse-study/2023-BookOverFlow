## 1.1 운영체제

### 1.1.1 운영체제란
- 하드웨어 계층과 다른 소프트웨어 계층을 연결하는 소프트웨어 계층이다.
- 컴퓨터 시스템의 자원을 관리하고, 사용자가 컴퓨터를 사용할 수 있는 환경을 제공하는 역할을 수행한다.
<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/f667944c-62d9-4dde-8e8a-b2151bf69582" width=300>
</center>

<br><br>

### 1.1.2 운영체제 목적
- OS는 하드웨어와 소프트웨어를 이어주는 계층으로써 한정된 자원 안에서 정확하고 빠르게 주어진 문제를 해결하는 것이 목적이다. 그래서 OS의 성능을 평가하는 기준으로 처리 능력, 반환 시간, 사용 가능도, 신뢰도가 사용되기도 한다.

<br>

- 처리 능력 향상
    - 자원 관리를 통해 일정 시간 내에 시스템이 처리하는 일의 양을 향상시킨다.
- 반환 시간 단축
    - 사용자가 시스템에 요청한 작업을 완료할 때까지 소요되는 시간을 단축시킨다.
- 사용 가능도 향상
    - 사용 가능도는 시스템 자원을 얼마나 빨리 제공할 수 있는가를 의미한다.
    - 사용자가 컴퓨터를 사용해야 할 때 자원을 즉시 사용할 수 있게 한다.
- 신뢰도 향상
    - 신뢰도는 시스템이 주어진 문제를 정확하게 푸는지를 의미한다.
    - 입력 값에 대한 정확한 결과 값을 줄 수 있도록 신뢰도를 향상해야 한다.

<br><br>

### 1.1.3 CPU와 메모리 구조
- CPU
    - Central Processing Unit 으로 컴퓨터에서 뇌역할을 한다.
    - 프로그램을 실행하는 데 필요한 연산을 처리하고 수행한다.

- 메모리
    - 데이터를 저장하기 위한 기억장치다.
    - 휘발성 메모리인 주 기억장치와 비휘발성 메모리인 보조 기억장치가 있다.
    - 주 기억장치는 메인 메모리를 의미하며 보통 RAM을 말한다.
    - 보조 기억장치는 SSD, HDD를 말한다.

<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/0bb9cc81-6aa2-4257-8e6a-22e394825d0c" width=400>
</center>


- 레지스터
    - CPU가 사용자 요청을 처리하는 데 필요한 데이터를 임시로 저장하는 기억장치다. CPU 내부에 존재하며 접근 속도가 빠르다.
- 캐시 메모리
    - CPU와 RAM 사이의 속도 차이를 해결하기 위한 기억장치다.
    - CPU 내부에 위치하며 접근 속도가 레지스터 다음으로 빠르다.
- RAM(Random Access Memory)
    - 프로그램을 실행할 때 필요한 정보를 저장한다.
    - CPU에서 접근 속도가 하드 디스크보다 빠르고, 휘발성 기억장치다.
- 하드 디스크
    - 데이터와 프로그램을 저장하고, 비위발성 기억장치다.

<br>

- 프로그램을 실행하면 OS는 디스크에 있는 프로그램을 메모리로 로드한다.
- 메모리에 로드한 프로그램을 프로세스라고 하며 CPU가 처리한다.
- CPU는 하나의 프로세스만 처리할 수 있어서 멀티 프로세스 환경에서는 OS가 스케쥴링을 통해 CPU에게 프로세스를 할당한다.

<br><br>

### 1.1.4 커널과 시스템 콜
- 커널은 컴퓨터 하드웨어와 프로세스의 보안, 자원 관리, 하드웨어 추상화 같은 중요한 역할을 수행한다.
- 커널은 OS에서 핵심적인 역할을 하는 프로그램이며 항상 메모리에 상주한다.
- 자원 관리를 위해 CPU 스케쥴링, 메모리 관리, 입출력 관리, 파일 시스템 관리 등을 담당한다.
- 운영제체는 커널에서 관리하는 중요 자원에 쉽게 접근하지 못하도록 커널 모드와 사용자 모드를 나눈다. HW적 장치로 Mode bit를 유지하며 PSW(Program Status Word)라는 특수 레지스터에 저장한다.
- 커널 모드에서는 하드웨어에 직접 접근해 메모리, CPU와 같은 자원을 사용할 수 있다. 반면 사용자 모드에서는 커널 모드의 자원에 접근할 수 없다.
- 사용자 모드에서 실행된 프로세스가 자원에 접근하려면 시스템 콜을 호출해 커널에 요청해야 한다.
- 시스템 콜은 사용자 모드에서 커널 모드에 접근해 필요한 기능을 수행할 수 있게 하는 시스템 함수다.
- 커널은 시스템 콜로 받은 요청을 처리한 후 다시 시스템 콜로 결과 값을 반환한다.

<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/bb422451-dce5-4b19-acc9-bb938bf1eecf" width=300>
</center>

> **시스템 콜의 목적은 시스템 자원을 보호하는 것이다.**

<br>

<center>
<img src="https://github.com/woowacourse-study/2023-cs-study/assets/84285337/2fd910cf-12e9-45da-ad39-b30ceee4ee34" width=500>
</center>

- 시스템 콜의 예는 위와 같다.

<br>

> 시스템 콜에서 커널에 매개변수를 전달하는 방법

- 매개변수를 CPU의 레지스터에 직접 전달하는 방식(일반적으로 사용된다.)
    - 파라미터가 레지스터보다 많아질 수 있다.
- 매개변수를 메모리에 저장한 후 메모리의 주소 값을 레지스터에 저장하는 방식
    - Linux와 Solaris에서 사용되는 방식이다.
- 매개변수를 프로그램의 스택에 push하고 OS에서 pop하여 매개변수를 전달하는 방식
