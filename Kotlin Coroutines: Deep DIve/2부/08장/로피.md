# 8ì¥ ì¡ê³¼ ìì‹ ì½”ë£¨í‹´ ê¸°ë‹¤ë¦¬ê¸°

ğŸ’¡Â â€˜êµ¬ì¡°í™”ëœ ë™ì‹œì„±â€™ íŠ¹ì„±

- ìì‹ì€ ë¶€ëª¨ë¡œë¶€í„° ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì†ë°›ëŠ”ë‹¤.
- ë¶€ëª¨ëŠ” ëª¨ë“  ìì‹ì´ ì‘ì—…ì„ ë§ˆì¹  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
- ë¶€ëª¨ ì½”ë£¨í‹´ì´ ì·¨ì†Œë˜ë©´ ìì‹ ì½”ë£¨í‹´ë„ ì·¨ì†Œëœë‹¤.
- ìì‹ ì½”ë£¨í‹´ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´, ë¶€ëª¨ ì½”ë£¨í‹´ ë˜í•œ ì—ëŸ¬ë¡œ ì†Œë©¸í•œë‹¤.

## Jobì´ë€ ë¬´ì—‡ì¸ê°€?

**ì¡(Job)**

- ìˆ˜ëª…ì„ ê°€ì§€ê³  ìˆìœ¼ë©° ì·¨ì†Œ ê°€ëŠ¥í•˜ë‹¤.
- ì¸í„°í˜ì´ìŠ¤ì´ê¸´ í•˜ì§€ë§Œ êµ¬ì²´ì ì¸ ì‚¬ìš©ë²•ê³¼ ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆë‹¤ëŠ” ì ì—ì„œ ì¶”ìƒ í´ë˜ìŠ¤ì²˜ëŸ¼ ë‹¤ë£° ìˆ˜ë„ ìˆë‹¤.
- ì¡ì˜ ìˆ˜ëª…ì€ ìƒíƒœë¡œ ë‚˜íƒ€ë‚¸ë‹¤.

![IMG_0DE123E9A09B-1](https://github.com/woowacourse-study/2023-BookOverFlow/assets/50761690/990f3105-f153-4516-946a-6c77d773e57d)


**â€˜Activeâ€™ ìƒíƒœ**

- ì¡ì´ ì‹¤í–‰ë˜ê³  ì½”ë£¨í‹´ì€ ì¡ì„ ìˆ˜í–‰í•œë‹¤.
- ì¡ì´ ì½”ë£¨í‹´ ë¹Œë”ì— ì˜í•´ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ì½”ë£¨í‹´ì˜ ë³¸ì²´ê°€ ì‹¤í–‰ë˜ëŠ” ìƒíƒœì´ë‹¤.
- ì´ ìƒíƒœì—ì„œ ìì‹ ì½”ë£¨í‹´ì„ ì‹œì‘í•  ìˆ˜ ìˆë‹¤.
- ëŒ€ë¶€ë¶„ì˜ ì½”ë£¨í‹´ì€ ì´ ìƒíƒœì—ì„œ ì‹œì‘ëœë‹¤.

**â€˜Newâ€™ ìƒíƒœ**

- ì§€ì—° ì‹œì‘ë˜ëŠ” ì½”ë£¨í‹´ë§Œ ì´ ìƒíƒœì—ì„œ ì‹œì‘í•œë‹¤.
- ì´ ìƒíƒœì—ì„œ ì½”ë£¨í‹´ì´ â€˜Activeâ€™ ìƒíƒœê°€ ë˜ë ¤ë©´ ì‘ì—…ì´ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤.
- ì½”ë£¨í‹´ì´ ë³¸ì²´ë¥¼ ì‹¤í–‰í•˜ë©´ â€˜Activeâ€™ ìƒíƒœë¡œ ê°€ê²Œ ëœë‹¤.

**â€˜Completingâ€™ ìƒíƒœ**

- ì½”ë£¨í‹´ ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ ì´ ìƒíƒœë¡œ ë°”ë€Œê³  ìì‹ë“¤ì„ ê¸°ë‹¤ë¦°ë‹¤.

**â€˜Completedâ€™ ìƒíƒœ**

- ìì‹ ì½”ë£¨í‹´ë“¤ì˜ ì‹¤í–‰ë„ ëª¨ë‘ ëë‚¬ë‹¤ë©´ ì¡ì€ ì´ ìƒíƒœë¡œ ë°”ë€ë‹¤.

**â€˜Cancellingâ€™ ìƒíƒœ**

- ì¡ì´ ì‹¤í–‰ ë„ì¤‘ì—(â€™Activeâ€™ or â€˜Completingâ€™ ìƒíƒœ) ì·¨ì†Œë˜ê±°ë‚˜ ì‹¤íŒ¨í•˜ê²Œ ë˜ë©´ ì´ ìƒíƒœë¡œ ê°€ê²Œ ëœë‹¤.
- ì—°ê²°ì„ ëŠê±°ë‚˜ ìì›ì„ ë°˜ë‚©í•˜ëŠ” ë“±ì˜ í›„ì²˜ë¦¬ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤.

**â€˜Cancelledâ€™ ìƒíƒœ**

- í›„ì²˜ë¦¬ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì´ ìƒíƒœê°€ ëœë‹¤.

ì¡ì˜ ìƒíƒœëŠ” toString ë©”ì„œë“œë¡œ ë³¼ ìˆ˜ ìˆë‹¤. 

```kotlin
suspend fun main() = coroutineScope {
	// ë¹Œë”ë¡œ ìƒì„±ëœ ì¡
	val job = Job()
	println(job) // JobImpl{Active}@ADD
	// ë©”ì„œë“œë¡œ ì™„ë£Œì‹œí‚¬ ë•Œê¹Œì§€ Active ìƒíƒœ
	job.complete()
	println(job) // JobImpl{Completed}@ADD

	//launchëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í™œì„±í™”ë˜ì–´ ìˆë‹¤.
	val activeJob = launch {
		delay(1000)
	}
	println(activeJob) // StandaloneCoroutine{Active}@ADD
	// ì—¬ê¸°ì„œ ì¡ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.
	activeJob.join() // (1ì´ˆ í›„)
	println(activeJob) // StandaloneCoroutine{Completed}@ADD

	// launchëŠ” New ìƒíƒœë¡œ ì§€ì—° ì‹œì‘í•œë‹¤.
	val lazyJob = launch(start = CoroutineStart.LAZY) {
		delay(1000) 
  }
	println(lazyJob) // LazyStandaloneCoroutine{New}@ADD
	// Active ìƒíƒœê°€ ë˜ë ¤ë©´ ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤.
	lazyJob.start()
	println(lazyJob) // LazyStandaloneCoroutine{Active}@ADD
	lazyJob.join()
	println(lazyJob) // LazyStandaloneCoroutine{Completed}@ADD
}
```

ì½”ë“œì—ì„œ ì¡ì˜ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ isActive, isCompleted, isCancelled í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

![IMG_079CF163EBC0-1](https://github.com/woowacourse-study/2023-BookOverFlow/assets/50761690/99baeea0-ed57-4b4b-9213-db00a19f7ccd)


> ì½”ë£¨í‹´ì€ ê°ìì˜ ì¡ì„ ê°€ì§€ê³  ìˆë‹¤.
> 

## ì½”ë£¨í‹´ ë¹Œë”ëŠ” ë¶€ëª¨ì˜ ì¡ì„ ê¸°ì´ˆë¡œ ìì‹ ë“¤ì˜ ì¡ì„ ìƒì„±í•œë‹¤

ì½”í‹€ë¦° ì½”ë£¨í‹´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `ëª¨ë“  ì½”ë£¨í‹´ ë¹Œë”ëŠ” ìì‹ ë§Œì˜ ì¡ì„ ìƒì„±`í•œë‹¤. `ëŒ€ë¶€ë¶„ì˜ ì½”ë£¨í‹´ ë¹Œë”ëŠ” ì¡ì„ ë°˜í™˜`í•˜ë¯€ë¡œ ì–´ëŠ ê³³ì—ì„œë“  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```kotlin
// launchì˜ ëª…ì‹œì  ë°˜í™˜ íƒ€ì…ì´ Job
fun main(): Unit = runBlocking  {
	val job: Job = launch {
		delay(1000)
		println("Test")
	}
}
```

```kotlin
// async í•¨ìˆ˜ì— ì˜í•´ ë°˜í™˜ë˜ëŠ” íƒ€ì…ì€ Deferred<T>
// Deferred<T> ë˜í•œ Job ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
fun main(): Unit = runBlocking {
	val deferred: Deferred<String> = async {
		delay(1000)
		"Test"
	}
	val job: Job = deferred
}
```

Jobì€ `ì½”ë£¨í‹´ ì»¨í…ìŠ¤íŠ¸`ì´ë¯€ë¡œ `coroutineContext[Job]ì„ ì‚¬ìš©í•´ ì ‘ê·¼`í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.

í•˜ì§€ë§Œ ì¡ì„ ì¢€ë” ì ‘ê·¼í•˜ê¸° í¸í•˜ê²Œ ë§Œë“¤ì–´ ì£¼ëŠ” í™•ì¥ í”„ë¡œí¼í‹° jobë„ ìˆë‹¤.

```kotlin
// í™•ì¥ í”„ë¡œí¼í‹°
val CoroutineContext.job: Job
	get() = get(Job) ?: error("Current context doesn't...")

// ì‚¬ìš© ì˜ˆ
fun main(): Unit = runBlocking {
	print(coroutineContext.job.isActive) // true
}
```

**`Jobì€ ì½”ë£¨í‹´ì´ ìƒì†í•˜ì§€ ì•ŠëŠ” ìœ ì¼í•œ ì½”ë£¨í‹´ ì»¨í…ìŠ¤íŠ¸`**ì´ë‹¤.  

`ëª¨ë“  ì½”ë£¨í‹´ì€ ìì‹ ë§Œì˜ Jobì„ ìƒì„±`í•˜ë©° ì¸ì ë˜ëŠ” ë¶€ëª¨ ì½”ë£¨í‹´ìœ¼ë¡œë¶€í„° ì˜¨ ì¡ì€ ìƒˆë¡œìš´ ì¡ì˜ ë¶€ëª¨ë¡œ ì‚¬ìš©ëœë‹¤.

```kotlin
fun main(): Unit = runBlocking {
	val name = CoroutineName("Some name")
	val job = Job()
	
	launch(name + job) {
		val childName = coroutineContext[CoroutineName]
		println(childName == name) // true
		val childJob = coroutineContext[Job]
		println(childJob == job) // false
		println(childJob == job.children.first()) // true
	}
}
```

`ë¶€ëª¨ ì¡ì€ ìì‹ ì¡ ëª¨ë‘ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆìœ¼ë©°, ìì‹ ë˜í•œ ë¶€ëª¨ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.`

ì¡ì„ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ë¶€ëª¨-ìì‹ ê´€ê³„ê°€ ìˆê¸° ë•Œë¬¸ì— ì½”ë£¨í‹´ ìŠ¤ì½”í”„ ë‚´ì—ì„œ ì·¨ì†Œì™€ ì˜ˆì™¸ ì²˜ë¦¬ êµ¬í˜„ ê°€ëŠ¥í•˜ë‹¤.

```kotlin
fun main(): Unit = runBlocking {
	val job: Job = launch {
		delay(1000)
	}

	val parentJob: Job = coroutineContext.job
	// ë˜ëŠ” coroutineContext[Job]!!
	println(job == parentJob) // false
	val parentChildren: Sequence<Job> = parentJob.children
	println(parentChildren.first() == job) // true
}
```

ìƒˆë¡œìš´ Job ì»¨í…ìŠ¤íŠ¸ê°€ ë¶€ëª¨ì˜ ì¡ì„ ëŒ€ì²´í•˜ë©´ êµ¬ì¡°í™”ëœ ë™ì‹œì„œì˜ ì‘ë™ ë°©ì‹ì€ ìœ íš¨í•˜ì§€ ì•Šë‹¤.

```kotlin
fun main(): Unit = runBlocking {
	launch(Job()) { // ìƒˆë¡œìš´ ì¡ì´ ë¶€ëª¨ë¡œë¶€í„° ìƒì†ë°›ì€ ì¡ì„ ëŒ€ì²´í•œë‹¤.
		delay(1000)
		println("Will not be printed")
	}
}
// (ì•„ë¬´ê²ƒë„ ì¶œë ¥í•˜ì§€ ì•Šê³ , ì¦‰ì‹œ ì¢…ë£Œí•©ë‹ˆë‹¤)

// ë¶€ëª¨ì™€ ìì‹ ì‚¬ì´ì— ì•„ë¬´ëŸ° ê´€ê³„ê°€ ì—†ê¸° ë•Œë¬¸ì— ë¶€ëª¨ê°€ ìì‹ ì½”ë£¨í‹´ì„ ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ”ë‹¤.
// ìì‹ì€ ì¸ìë¡œ ë“¤ì–´ì˜¨ ì¡ì„ ë¶€ëª¨ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— runBlockingê³¼ ì•„ë¬´ëŸ° ê´€ë ¨ì´ ì—†ë‹¤.
```

ì½”ë£¨í‹´ì´ ìì‹ ë§Œì˜ ë…ìì ì¸ ì¡ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ ë¶€ëª¨ì™€ ì•„ë¬´ëŸ° ê´€ê³„ê°€ ì—†ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. 

â†’ êµ¬ì¡°í™”ëœ ë™ì‹œì„±ì„ ì½ê²Œ ëœë‹¤.

## ìì‹ë“¤ ê¸°ë‹¤ë¦¬ê¸°

ì¡ì˜ ì´ì  ì²« ë²ˆì§¸,

**ì½”ë£¨í‹´ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ë° ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤**

**join ë©”ì„œë“œ**

- ì§€ì •í•œ ì¡ì´ Completedë‚˜ Cancelledì™€ ê°™ì€ ë§ˆì§€ë§‰ ìƒíƒœì— ë„ë‹¬í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘ë‹¨ í•¨ìˆ˜

```kotlin
fun main(): Unit = runBlocking {
	val job1 = launch {
		delay(1000)
		println("Test1")
	}
	val job2 = launch {
		delay(2000)
		println("Test2")
	}

	job1.join()
	job2.join()
	println("All tests are done")
}
// (1ì´ˆ í›„)
// Test1
// (1ì´ˆ í›„)
// Test2
// All tests are done
```

Job ì¸í„°í˜ì´ìŠ¤ëŠ” ëª¨ë“  ìì‹ì„ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” children í”„ë¡œí¼í‹°ë„ ë…¸ì¶œì‹œí‚¨ë‹¤. 

ëª¨ë“  ìì‹ì´ ë§ˆì§€ë§‰ ìƒíƒœê°€ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ”ë° í™œìš©í•  ìˆ˜ ìˆë‹¤.

```kotlin
fun main(): Unit = runBlocking {
	launch {
		delay(1000)
		println("Test1")
	}
	launch {
		delay(2000)
		println("Test2")
	}
	
	val children = coroutineContext[Job]
		?.children

	val childrenNum = children?.count()
	println("Number of children: $childrenNum")
	children?.forEach { it.join() }
	println("All tests are done")
}
// Number of children: 2
// (1ì´ˆ í›„)
// Test1
// (1ì´ˆ í›„)
// Test2
// All tests are done
```

## ì¡ íŒ©í† ë¦¬ í•¨ìˆ˜

**ì¡ íŒ©í† ë¦¬ í•¨ìˆ˜** 

- ì½”ë£¨í‹´ ì—†ì´ë„ Jobì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- íŒ©í† ë¦¬ í•¨ìˆ˜ë¡œ ìƒì„±í•˜ëŠ” ì¡ì€ ì–´ë–¤ ì½”ë£¨í‹´ê³¼ë„ ì—°ê´€ë˜ì§€ ì•Šìœ¼ë©°, ì»¨í…ìŠ¤íŠ¸ë¡œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.
    - í•œ ê°œ ì´ìƒì˜ ìì‹ ì½”ë£¨í‹´ì„ ê°€ì§„ ë¶€ëª¨ ì¡ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

Job() íŒ©í† ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì¡ì„ ìƒì„±í•˜ê³ , ë‹¤ë¥¸ ì½”ë£¨í‹´ì˜ ë¶€ëª¨ë¡œ ì§€ì •í•œ ë’¤ì— joinì„ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ ì•ˆëœë‹¤.

â†’ ìì‹ ì½”ë£¨í‹´ì´ ëª¨ë‘ ì‘ì—…ì„ ëë§ˆì³ë„ Jobì´ ì—¬ì „íˆ ì•¡í‹°ë¸Œ ìƒíƒœì´ê¸° ë•Œë¬¸

â†’ íŒ©í† ë¦¬ í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì§„ ì¡ì€ ë‹¤ë¥¸ ì½”ë£¨í‹´ì— ì˜í•´ ì—¬ì „íˆ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤.

```kotlin
suspend fun main(): Unit = coroutineScope {
	val job = Job()
	launch(job) { // ìƒˆë¡œìš´ ì¡ì´ ë¶€ëª¨ë¡œë¶€í„° ìƒì†ë°›ì€ ì§‘ì„ ëŒ€ì²´í•œë‹¤.
		delay(1000)
		println("Text 1")
	}
	launch(job) { // ìƒˆë¡œìš´ ì¡ì´ ë¶€ëª¨ë¡œë¶€í„° ìƒì†ë°›ì€ ì¡ì„ ëŒ€ì²´í•œë‹¤
		delay(2000) {
		println("Text 2")
	}
	job.join()
	println("Will not be printed")
}
// (1ì´ˆ í›„)
// Text 1
// (1ì´ˆ í›„)
// Text 2
// (ì˜ì›íˆ ì‹¤í–‰ëœë‹¤.)
```

`ì¡ì˜ ëª¨ë“  ìì‹ ì½”ë£¨í‹´ì—ì„œ joinì„ í˜¸ì¶œí•˜ëŠ” ê²ƒ`ì´ ë°”ëŒì§í•œ ë°©ë²•ì´ë‹¤.

```kotlin
suspend fun main(): Unit = coroutineScope {
	val job = Job()
	launch(job) { // ìƒˆë¡œìš´ ì¡ì´ ë¶€ëª¨ë¡œë¶€í„° ìƒì†ë°›ì€ ì¡ì„ ëŒ€ì²´í•œë‹¤
		delay(1000)
		println("Text 1")
	}
	launch(job) { // ìƒˆë¡œìš´ ì¡ì´ ë¶€ëª¨ë¡œë¶€í„° ìƒì†ë°›ì€ ì¡ì„ ëŒ€ì²´í•œë‹¤
		delay(2000)
		println("Text 2")
	}
	job.children.forEach { it.join() }
}
// (1ì´ˆ í›„)
// Text 1
// (1ì´ˆ í›„)
// Text 2
```

Job()ì€ ìƒì„±ìì²˜ëŸ¼ ë³´ì´ëŠ” ê°„ë‹¨í•œ í•¨ìˆ˜, ê°€ì§œ ìƒì„±ìì´ë‹¤. 

íŒ©í† ë¦¬ í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ì‹¤ì œ íƒ€ì…ì€ Jobì´ ì•„ë‹ˆë¼ í•˜ìœ„ ì¸í„°í˜ì´ìŠ¤ì¸ CompletableJobì´ë‹¤.

```kotlin
public fun Job(parent: Job? = null): CompletableJob
```

CompletableJob ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ

- complete(): Boolean
    - ì¡ì„ ì™„ë£Œí•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.
    - ëª¨ë“  ìì‹ ì½”ë£¨í‹´ì€ ì‘ì—…ì´ ì™„ë£Œë  ë•Œê°€ì§€ ì‹¤í–‰ëœ ìƒíƒœë¥¼ ìœ ì§€í•˜ì§€ë§Œ, ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ì¡ì—ì„œ ìƒˆë¡œìš´ ì½”ë£¨í‹´ì´ ì‹œì‘ë  ìˆ˜ëŠ” ì—†ë‹¤.
    - ì¡ì´ ì™„ë£Œë˜ë©´ ì‹¤í–‰ ê²°ê³¼ëŠ” trueê°€ ë˜ê³ , ê·¸ë ‡ì§€ ì•Šì„ ê²½ìš° falseê°€ ëœë‹¤.
    
    ```kotlin
    fun main() = runBlocking {
    	val job = Job()
    	
    	launch(job) {
    		repeat(5) { num ->
    			delay(200)
    			println("Rep$num")
    		}
    	}
    
    	launch {
    		delay(500)
    		job.complete()
    	}
    	
    	job.join()
    
    	launch(job) {
    		println("Will not be printed")
    	}
    	
    	println("Done")
    }
    // Rep0
    // Rep1
    // Rep2
    // Rep3
    // Rep4
    // Done
    
    ```
    

- completeExceptionally(exception: Throwable): Boolean
    - ì¸ìë¡œ ë°›ì€ ì˜ˆì™¸ë¡œ ì¡ì„ ì™„ë£Œì‹œí‚¨ë‹¤.
    - ëª¨ë“  ìì‹ ì½”ë£¨í‹´ì€ ì£¼ì–´ì§„ ì˜ˆì™¸ë¥¼ ë˜í•‘í•œ CancellationExceptionìœ¼ë¡œ ì¦‰ì‹œ ì·¨ì†Œëœë‹¤.
    - ë°˜í™˜ê°’ì€ â€œì¡ì´ ë©”ì„œë“œì˜ ì‹¤í–‰ìœ¼ë¡œ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆê¹Œ?â€ë¼ëŠ” ì§ˆë¬¸ì— ëŒ€í•œ ì‘ë‹µì´ ëœë‹¤.
    
    ```kotlin
    fun main() = runBlocking {
    	val job = Job()
    
    	launch(job) {
    		repeat(5) { num ->
    			delay(200)
    			println("Rep$num")
    		}
    	}
    	launch {
    		delay(500)
    		job.completeExceptionally(Error("Some error"))
    	}
    
    	job.join()
    
    	launch(job) {
    		println("Will not be printed")
    	}
    		
    	println("Done")
    }
    // Rep0
    // Rep1
    // Done
    ```
    

complete í•¨ìˆ˜ëŠ” ì¡ì˜ ë§ˆì§€ë§‰ ì½”ë£¨í‹´ì„ ì‹œì‘í•œ í›„ ìì£¼ ì‚¬ìš©ëœë‹¤. ì´í›„ì—ëŠ” join í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì¡ì´ ì™„ë£Œë˜ëŠ” ê±¸ ê¸°ë‹¤ë¦¬ê¸°ë§Œ í•˜ë©´ ëœë‹¤.

```kotlin
suspend fun main(): Unit = coroutineScope {
	val job = Job()
	launch(job) {
		delay(1000)
		println("Text 1")
	}
	launch(job) {
		delay(2000)
		println("Text 2")
	}
	job.complete()
	job.join()
}
// (1ì´ˆ í›„)
// Text 1
// (1ì´ˆ í›„)
// Text 2
```

Job í•¨ìˆ˜ì˜ ì¸ìë¡œ ë¶€ëª¨ ì¡ì˜ ì°¸ì¡°ê°’ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. ì´ë•Œ ë¶€ëª¨ ì¡ì´ ì·¨ì†Œë˜ë©´ í•´ë‹¹ ì¡ ë˜í•œ ì·¨ì†Œëœë‹¤.
