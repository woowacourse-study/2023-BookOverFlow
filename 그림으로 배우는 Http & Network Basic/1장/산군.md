# 1장(웹과 네트워크의 기본에 대해 알아보자)

## 1.1 웹은 HTTP로 나타낸다

HTTP(HyperText Transfer Protocol)

- 웹은 HTTP라는 프로토콜(약속)을 사용해 통신한다.

## 1.2 HTTP는 이렇게 태어났고 성장했다

### 1.2.1 웹은 지식 공유를 위해 고안되었다

HTTP는 1989년에 출범했다.

### 1.2.2 웹이 성장한 시대

1990년, CERN에서 세계 최초의 웹 서버와 웹 브라우저가 개발되었다.

1993년, 대한민국  최초의 홈페이지가 개발되었다.

…

### 1.2.3 진보 안하는 HTTP

1997년, HTTP/1.1 버전이 공개되었으며, 현재 가장 많이 사용되는 버전이다.(지금은 아님)

## 1.3 네트워크의 기본은 TCP/IP

우리가 일반적으로 사용하고 있는 네트워크는 TCP/IP라는 프로토콜에서 움직이고 있다.

HTTP는 그 중하나이다.

### 1.3.1 TCP/IP는 프로토콜의 집합

프로토콜

- 서로 다른 하드웨어와 운영체제 등을 가지고 서로 통신을 하기 위해서는 모든 요소에 규칙이 필요하게 되며, 이러한 규칙을 **프로토콜**이라고 한다.
- 프로토콜에는 여러 가지가 있다.
    - 케이블 규격, IP 주소 지정 방법, 상대를 찾기 위한 방법, 도달하는 순서, 웹을 표시하기 위한 순서 등..
- 이렇게 인터넷과 관련된 프로토콜들을 모은 것을 **TCP/IP**라고 부른다.

### 1.3.2 계층으로 관리하는 TCP/IP

계층

- TCP/IP는 ‘애플리케이션 계층’, ‘트랜스포트 계층’, ‘네트워크 계층’, ‘링크계층’ 이렇게 4계층으로 나뉘어져 있다.
    - 계층이 나누어져있다면, 어디선가 사양이 변경되었을 때 전체를 바꾸지 않아도 되는 메리트가 있다.
    - 각 층에선 자신의 관심사만 신경쓰면 되기에 설계를 편하게 할 수 있다.
        - 우리가 아키텍처를 적용해 레이어를 나누는 것과 비슷하다.

애플리케이션 계층

- 애플리케이션에서 사용하는 통신의 움직임을 결정한다.
- TCP/IP에는 여러 가지의 공통 애플리케이션이 준비되어 있다.
    - FTP, DNS 등 애플리케이션의 한 가지이며, HTTP 또한 포함된다.

트랜스포트 계층

- 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공한다.
- 서로 다른 성질을 가진 TCP(Transmission Control Protocol)와 UDP(User Data Protocol) 두 가지 프로토콜이 있다.

네트워크(인터넷) 계층

- 네트워크 상에서 패킷의 이동을 다룬다.
    - 패킷이란 전송하는 데이터의 최소 단위이다.
- 어떠한 경로 혹은 절차를 거쳐 상대의 컴퓨터까지 패킷을 보낼지 결정한다.
- 인터넷인 경우, 상대 컴퓨터에 도달하는 동안에 여러 대의 컴퓨터랑 네트워크 기기를 거쳐서 상대방에게 전송된다.
    - 이 때, 여러 가지 선택지 중에서 하나의 길을 결정하는 것이 네트워크 계층의 역할이다.

링크 계층(데이터 링크, 네트워크 인터페이스 계층)

- 네트워크에 접속하는 하드웨어적인 면을 다룬다.
- 운영체제가 하드웨어를 제어하기 때문에 디바이스 드라이버랑 네트워크 인터페이스 카드(NIC)를 포함한다.
- 케이블 등과 같이 물리적으로 보이는 부분(커넥트 등을 포함한 여러 가지 전송 매체)도 포함된다.
- 하드웨어적 측면은 모두 링크 계층의 역할이다.

### 1.3.3 TCP/IP 통신의 흐름

일반적인 흐름

1. 송신측 클라이언트의 애플리케이션 계층(HTTP)에서 어느 웹 페이지를 보고 싶다라는 리퀘스트를 지시한다.
2. 트랜스포트 계층(TCP)는 애플리케이션 계층에서 받은 데이터(HTTP 메시지)를 통신하기 쉽게 조각내어 안내 번호와 포트번호를 붙여 네트워크 계층에 전달한다.
3. 네트워크 계층(IP)에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달한다.
4. 네트워크를 통해 송신할 준비가 되었다
![image](https://github.com/woowacourse-study/2023-cs-study/assets/81347125/af077b9f-bf7b-49ea-933e-69ab574ac286)

각 계층을 거칠 때 반드시 헤더로 불려지는 해당 계층마다 해당 계층에 필요한 정보를 추가 및 삭제하며, 이를 **캡슐화**라고 부른다.

## 1.4 HTTP와 관계가 깊은 프로토콜은 IP/TCP/DNS

### 1.4.1 배송을 담당하는 IP

IP(Internet Protocol)

- 네트워크 계층에 해당된다.
- 인터넷을 활용하는 거의 대부분의 시스템이 이용하고 있다.
- IP는 프로토콜의 명칭이며, IP 주소와 다르다.
- IP의 역할은 각각의 패킷을 상대방에게 전달하는 것이다.
- 그 중에서도 **IP주소**와 **MAC(Media Access Control Address)주소**가 중요하다.
    - IP 주소는 각 노드에 부여된 주소를 가리키고, MAC 주소는 각 네트워크 카드에 할당된 고유의 주소이다.
    - IP 주소는 가변이고 MAC 주소는 기본적으로 불변이다.
- 통신은 ARP를 이용하여 MAC 주소에서 한다.
    - IP 통신은 MAC 주소에 의존해서 통신을 한다.
    - 인터넷에서 통신 상대가 같은 랜선 내에 있을 경우 여러 대의 컴퓨터와 네트워크 기기를 중계해서 상대방에게 도착하며, 동시에 다음으로 중계할 곳의 MAC 주소를 사용하여 목적지를 찾아간다.
        - 이때, ARP(Address Resolution Protocol)이라는 프로토콜이 사용된다.
        - ARP는 주소를 해결하기 위한 프로토콜 중 하나인데, 수신지의 IP 주소를 바탕으로 MAC 주소를 조사할 수 있다.
- 목적지까지 중계를 하는 도중에 컴퓨터와 라우터 등의 네트워크 기기는 목적지에 도착하기까지 대략적인 목적지만 알고 있다.
    - 이 시스템을 라우팅이라고 부른다.
    - 쉽게 이해하기 위해, 택배 배송과정을 생각하면 된다. 파도타기

### 1.4.2 신뢰성을 담당하는 TCP

TCP(Transfer Control Protocol)

- 트랜스포트 계층이다.
- 신뢰성 있는 바이트 스트림 서비스를 제공한다.
    - 바이트 스트림 서비스란, 용량이 큰 데이터를 보내기 쉽게 **TCP 세그먼트**라고 불리는 단위 패킷으로 작게 분해하여 관리하고 보낸다.
- 상대에게 더욱 확실하게 데이터를 보내기 위해 TCP는 **“Three way handshaking”** 기법을 사용한다.
    - 단순히 보내고 끝이 아니라, 송신되었는지의 여부를 상대에게 확인하러 간다.
    - 송신측에서는 최초 **‘SYN’** 플래그로 상대에게 접속함과 동시에 패킷을 보내고, 수신측에서는 **‘SYN/ACK’** 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 전한다.
    - 마지막으로 송신측이 **‘ACK’** 플래그를 보내 패킷 교환이 완료되었음을 전한다.
    - 이 과정에서 통신이 도중에 끊기면 TCP는 그와 동시에 같은 수순으로 패킷을 재전송한다.

## 1.5 이름 해결을 담당하는 DNS

DNS(Domain Name System)

- HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공한다.
- 컴퓨터는 IP 주소와는 별도로 호스트 이름과 도메인 이름을 붙일 수 있다.
    - ex) www.hello.kr
- 주로 사용자는 IP 주소 대신 이름을 사용하여 상대의 컴퓨터를 지정한다.
    - 사람은 숫자보다 영어가 더 편리하고 가독성이 좋으며, 컴퓨터는 반대이다.
- DNS는 IP 주소에서 도메인명을, 도메인명에서 IP 주소를 조사 및 제공한다.

## 1.6 각각의 HTTP와의 관계

http://www.naver.com 을 주소입력창에 입력하면 어떤 일들이 일어나나요?

![image](https://github.com/woowacourse-study/2023-cs-study/assets/81347125/473f5fc9-dde5-4238-ab8f-d53b2b4f5c82)


## 1.7 URI와 URL

URL(Uniform Resource Locator)

- 웹 브라우저 등으로 웹 페이지를 표시하기 위해 입력하는 주소
- ex) https://www.google.co.kr

### 1.7.1 URI는 리소스 식별자

URI(Uniform Resource Identifiers)

- Uniform
    - 통일된 서식을 결정하는 것으로, 여러 가지 종류의 리소스 지정 방법을 같은 맥락에서 구별없이 취급할 수 있게 한다.
    - 새로운 스키마(http: ftp 등) 도입을 용이하게 한다.
- Resource
    - 리소스는 식별 가능한 모든 것이다.
    - 도큐먼트 파일뿐만 아니라 이미지와 서비스 등 다른 것과 구별할 수 있는 것은 모두 리소스이다.
- Identifier
    - 식별 가능한 것을 참조하는 오브젝트이며 식별자로 불린다.
    - 결국 URI는 스키마를 나타내는 리소스를 식별하기 위한 식별자이다.
    - 스키마는 리소스를 얻기 위한 수단에 이름을 붙이는 방법이다.
        - HTTP는 http를 사용한다.
        - ftp, mailto, telnet, file 등이 있으며, 공식 URI 스키마는 인터넷 상의 자원 관리 등을 하는 비영리 법인 ICANN 산하 조직인 IANA에 등록되어 있으며 30개 정도 있다.
- URI는 리소스를 식별하기 위해 문자열 전반을 나타내는데, URL은 리소스의 장소(네트워크 상의 위치)를 나타낸다.
- URL은 URI의 서브셋이다.

### 1.7.2 URL 포맷

- 필요한 정보 전체를 지정하는 **완전 수식 절대 URI 혹은 완전 수식 절대 URL**
- 브라우저 중의 기준 URI에서 상대적 위치를 지정하는 **상대 URL**이 있다.

URI 포맷

![image](https://github.com/woowacourse-study/2023-cs-study/assets/81347125/df5b4e3b-7b67-416e-ba8c-376614c31060)


- 1번, 스키마를 사용하여 리소스를 얻기 위해 사용하는 프로토콜을 지시한다.
    - 대소문자는 무시되고 마지막에 콜론이 하나 붙는다.
    - 데이터와 프로그램을 지정할 수도 있다.
        - ex) data: jabascript:
- 2번, 서버로부터 리소스를 취득하기위한 자격정보가 필요하다.
    - 유저명과 패스워드 등을 지정할 수 있으며 선택적이다.
- 3번, 완전 수식 형식인 URI에서는 서버 주소를 지정할 필요가 있다.
    - 주소는 DNS 이름, IPv4, IPv6 등으로 지정된다.
- 4번, 서버의 접속 대상이 되는 네트워크 포트 번호를 지정한다.
    - 선택적이며, 생략 시 디폴트 포트가 사용된다.
- 5번, 특정 리소스를 식별하기 위해서 서버 상의 파일 경로를 지정한다.
- 6번, 파일 경로로 지정된 리소스에 임의의 파라미터를 넘겨주기 위해 쿼리 문자열을 사용한다.
    - 선택적이다.
- 7번, 주로 취득한 리소스에서 서브 리소스(문서 중간에 위치)를 가리키기 위해서 프래그먼트 식별자가 사용된다.
    - 선택적이다.
- RFC(Request For Comments)는 HTTP의 기술 사양 문서이다.
    - 공통규약문서
