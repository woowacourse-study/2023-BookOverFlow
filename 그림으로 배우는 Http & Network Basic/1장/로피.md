# 1장 웹과 네트워크 기본에 대해 알아보자

## 1.1 웹은 HTTP로 나타낸다

- 웹 브라우저

웹브라우저 주소 입력란에 지정된 URL에 의지해서 웹 서버로부터 리소스라고 불리는 파일 정보 얻음

- 클라이언트

서버에 의뢰하는 웹 브라우저

—> 클라이언트에서 서버까지 일련의 흐름을 결정하고 있는 것 **HTTP(HyperText Transfer Protocol(약속))**

—> 웹은 HTTP라는 약속을 사용한 통신으로 이루어짐

## 1.2 HTTP는 이렇게 태어났고 성장했다

### 1.2.1 웹은 지식 공유를 위해 고안되었다

멀리 떨어져 있는 동료 연구자와 지식을 공용하게 할 수 있도록 시스템 고안 → WWW(World Wide Web) 개념이 되는 것이 만들어짐(여러 문서를 상호간에 관련 짓는 하이퍼텍스트에 의해 상호간에 참조할 수 있는)

- WWW 구성하는 기술
    1. 문서 기술 언어 → SGML 베이스로한 HTML
    2. 문서 전송 프로토콜 → HTTP
    3. 문서의 주소를 지정하는 방법 → URI(Uniform Resource Locator)

- WWW
    - 지금으로 말하자면 웹 브라우저
    - 옛날에는 하이퍼텍스트를 열람할 수 있는 클라이언트 애플리케이션의 명칭

### 1.2.3 진보 안하는 HTTP

HTTP/1.0

- HTTP 정식 사양으로 공개
- 초기의 사양이지만 현재에도 많은 세상에서 현역으로 가동되고 있는 프로토콜 사양

HTTP/1.1

- 현재 가장 많이 사용되는 버전

HTTP는 거의 버전 업그레이드 되지 않음

- 등장한 당시에 주로 텍스트를 전송하기 위한 프로토콜
- 현재 웹이라는 틀을 넘어서 다양하게 사용되는 프로토콜

## 1.3 네트워크의 기본은 TCP/IP

인터넷을 포함하여 일반적으로 사용하고 있는 네트워크는 TCP/IP라는 프로토콜에서 움직임, HTTP도 포함

### 1.3.1 TCP/IP는 프로토콜의 집합

프로토콜

- 서로 다른 하드웨어와 운영체제 등을 가지고 서로 통신을 하기 위해서는 필요한 규칙

TCP/IP

- 인터넷과 관련된 프로토콜을 모은 것
- TCP + IP or IP

### 1.3.2 계층으로 관리하는 TCP/IP

**TCP/IP 계층**

변경에 유연, 설계가 편해짐

- 애플리케이션 계층
    - 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임 결정
    - FTP, DNS, HTTP
- 트랜스포트 계층
    - 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름 제공
    - TCP, UDP
- 네트워크 계층(인터넷 계층)
    - 네트워크 상에서 패킷의 이동을 다룸
        - 패킷 → 전송하는 데이터의 최소 단위
    - 어떠한 경로(절차)를 거쳐 상대의 컴퓨터까지 패킷을 보낼지 결정
- 링크 계층(데이터 링크 계층, 네트워크 인터페이스 계층)
    - 네트워크에 접속하는 하드웨어적 면 다룸
    - 디바이스 드라이버, 네트워크 인터페이스 카드(NIC), 케이블(물리적으로 보이는 부분)

### 1.3.3 TCP/IP 통신의 흐름

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/203d6d84-3936-4265-836e-c5aa6af877e9/56aeae0b-d4b4-49b2-bfd5-0b712fb78d13/Untitled.png)

- TCP/IP로 통신을 할 때 계층 순서대로 거쳐 상태와 통신
- 송신하는 측 → 애플리케이션 게층에서부터 내려감, 수신하는 측 → 애플리케이션 계층으로 올라감

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/203d6d84-3936-4265-836e-c5aa6af877e9/016e492b-4ec6-4ffb-8fc6-cc2802566022/Untitled.png)

- 각 계층을 거칠 때는 반드시 헤더로 불려지는 해당 계층마다 해당 계층에 필요한 정보 추가
- 수신 측에서는 각 계층을 거칠 때마다 반드시 해당 계층마다 사용한 헤더 삭제
- 이렇게 정보를 감싸는 것 → 캡슐화

## 1.4 HTTP와 관계가 깊은 프로토콜은 IP/TCP/DNS

### 1.4.1 배송을 담당하는 IP

**IP(Internet Protocol)**

- 네트워크 층에 해당
- 개개의 패킷을 상대방에게 전달하는 것
    - 상대방에게 전달하기 위한 요소
        - IP 주소
            - 각 노드에 부여된 주소
        - MAC(Media Access Control) 주소
            - 각 네트워크 카드에 할당된 고유의 주소
        - IP주소와 MAC 주소는 서로 연관됨
        - IP 주소 변경 가능, MAC 주소 기본적으로 변경 불가능
- IP 통신은 MAC 주소에 의존

**ARP(Address Resolution Protocol)**

- 주소를 해결하기 위한 프로토콜
- 수신자의 IP 주소를 바탕으로 MAC 주소를 조사

목적지까지는 가는 길에 컴퓨터와 라우터 등의 기기는 대략적인 목적지만 알고 있음 —> 라우팅(택배 배송 흡사)

—> 어떤 컴퓨터나 네트워크 기기도 인터넷 전체를 상세하게 파악하지 못함

### 1.4.2 신뢰성을 담당하는 TCP

**TCP(Transfer Control Protocol)**

- 트랜스포트 층
- 신뢰성 있는 바이트 스트림 서비스 제공
    - 바이트 스트림 서비스 → 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리
    - 신뢰성 있는 서비스 → 상대방에게 보내는 서비스
- 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대방에게 보내고, 정확하게 도착했는지 확인하는 역할 담당

**Three way Handshaking**

- 상대에게 확실하게 데이터 보내기 위해 사용하는 방법
- 패킷을 보내고 나서 보내졌는지 여부를 상대에게 확인
    - SYN, ACK 플래그 사용

![IMG_3921.jpg](https://prod-files-secure.s3.us-west-2.amazonaws.com/203d6d84-3936-4265-836e-c5aa6af877e9/27b97b94-c826-40ab-91df-874fde15253f/IMG_3921.jpg)

송신측

- 최초 ‘SYN’ 플래그로 상대에게 접속함과 동시에 패킷을 보냄

수신측

- ‘SYN/ACK’ 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실 전함

송신측

- ‘ACK’ 플래그를 보내 패킷 교환이 완료되었음을 전함

통신이 도중에 끊어지면 TCP는 같은 수순으로 패킷 재전송

## 1.5 이를 해결을 담당하는 DNS

**DNS(Domain Name System)**

- HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인 제공
- 도메인명에서 IP 주소를 조사 or IP 주소로부터 도메인명을 조사하는 서비스 제공
    - 컴퓨터는 IP주소와 별도로 호스트 이름과 도메인 이름 붙일 수 있음

## 1.6 각각과 HTTP의 관계

클라이언트

- URL 요청

DNS

- URL로 IP 반환

HTTP

- 담당 웹 서버에 보낼 HTTP 메시지 작성

TCP

- 통신하기 쉽도록 HTTP 메시지를 패킷으로 분해

IP

- 상대가 어디에 있는지 찾아 중계해 가면서 배송

TCP

- 상대방으로부터 패킷을 수신(도착한 패킷을 조립)

HTTP

- 웹 서버에 대한 리퀘스트 내용을 처리

웹서버

## 1.7 URI와 URL

### 1.7.1 URI는 리소스 식별자

**URI**

- Uniform
    - 통일된 서식을 결정하는 것
- Resource
    - 식별 가능한 모든 것
    - 단일한 부분만 아니라 복수의 집합도 파악가능
- Identifier
    - 식별 가능한 것을 참조하는 오브젝트
    - 식별자
- 스키마를 나타내는 리소스를 식별하기 위한 식별자
    - 스키마 → 리소스를 얻기 위한 수단에 이름을 붙이는 방법
- 리소스를 식별하기 위한 문자열 전반

URL

- 리소스의 장소(네트워크 상의 위치) 나타냄
- URI의 서브셋

### 1.7.2 URL 포맷

- 완전 수식 절대 URI or 완전 수식 절대 URL
    - 필요한 정보 전체를 지정
- 상대 URL
    - 브라우저 중의 기준 URI에서 상대적 위치 지정

절대 URI 포맷

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/203d6d84-3936-4265-836e-c5aa6af877e9/419bd850-3248-4fe6-8616-d083b12bdb5f/Untitled.png)

- 자격정보(크리덴셜)

서버로부터 리소스 취득하기 위해 필요, 유저명과 패스워드 지정, 옵션

- 서버 주소

완전 수식 형식인 URI에서는 서버 주소 지정 필요함

- 서버 포트

서버의 접속 대상이 되는 네트워크 포트 번호, 옵션, 생략시 디폴트 번호

- 계층적 파일 패스

특정 리소스를 식별하기 위해서 서버 상의 파일 패스 지정

- 쿼리 문자열

파일 패스로 지정된 리소스에 임의의 파라미터를 넘겨주기 위해 사용, 옵션

- 프래그먼트 식별자

취득한 리소스에서 서브 리소스를 가리키기 위해서 사용, 옵션
