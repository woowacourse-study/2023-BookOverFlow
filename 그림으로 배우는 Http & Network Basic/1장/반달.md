# Chapter 01 웹과 네트워크의 기본에 대해 알아보자

## 1.1 웹은 HTTP로 나타낸다

- 웹 브라우저는 웹 브라우저 주소 입력란에 지정된 URL에 의지해서 웹 서버로부터 리소스라고 불리는 파일 등의 정보를 얻고 있다.
> 서버에 의뢰를 하는 웹 브라우저 등을 클라이언트(Client)라고 부른다.

클라이언트에서 서버까지 일련의 흐름을 결정하고 있는 것은 웹에서 HTTP(Hyper Text Transfer Protocol)이라 불리는 프로토콜이다. 즉, 웹은 HTTP라는 약속을 사용한 통신으로 이루어져 있다.

## 1.2 HTTP는 이렇게 태어났고 성장했다.

웹은 1989년만 하더라도 몇명만 사용하였다.
팀 버너스리 는 세계 곳곳의 연구자들의 지식 공유를 지원하기 위해 **WWW(World Wide Web)**를 고안하였다.

### WWW를 구성하는 기술
- 문자 기술 언어 - SGML을 베이스로한 HTML(HyperText Markup Language)
- 문서 전송 프로토콜 - HTTP
- 문서 주소 지정 방법 - URL(Uniform Resource Locator)

### 진보 안하는 HTTP
- HTTP/0.9 - 1990년 등장해 정식 버전은 아니기에 1.0 이전버전을 의미하려고 0.9 버전으로 불렸다.
- HTTP/1.0 - HTTP가 정식 사양으로 공개된 것은 1996년 5월이다. 초기의 사양이지만 현재에도 아직 많은 서버에서 현역으로 가동되고 있는 프로토콜 사양이다.
- HTTP/1.1 - 1997년 1월에 공개된 HTTP/1.1 버전은 현재 가장 많이 사용되는 버전이다.

## 1.3 네트워크의 기본은 TCP / IP

> 인터넷을 포함하여 일반적으로 사용하고 있는 네트워크는 TCP/IP라는 프로토콜에서 움직이고 있다. HTTP는 그중 하나이다.

컴퓨터와 네트워크 기기가 상호간에 통신하기 위해서는 서로 같은 방법으로 통신하지 않으면 안된다. 통신을 하기위한 모든 요소에 규칙이 필요하게 되는데 이걸 **프로토콜**이라고 부른다.

인터넷과 관련된 프로토콜들을 모은 것을 TCP / IP 라고 부른다.

### TCP / IP의 4계층
#### 1. 애플리케이션 계층
> 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정하고 있다.

- FTP, DNS 모두 애플리케이션의 한 가지이다.
- HTTP도 이 계층에 포함된다.

### 2. 트랜스포트 계층
> 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공한다.

#### 트랜스포트 계층의 서로다른 성격을 가진 두 가지 프로토콜
- TCP(Transpermission Control Protocol)
- UDP(User Data Protocol)

#### TCP 프로토콜과 UDP 프로토콜의 차이
![](https://velog.velcdn.com/images%2Fwngud4950%2Fpost%2F5373b061-4398-485e-9c26-098032789078%2Fimage.png)

#### 네트워크 계층 (혹은 인터넷 계층)
> 네트워크 상에서 패킷의 이동을 다룬다.

> 패킷이란? 전송하는 데이터의 최소 단위이다.

- 어떠한 경로를 거쳐 상대의 컴퓨터까지 패킷을 보낼지를 결정하기도 한다.

#### 링크 계층 (혹은 데이터 링크 계층, 네트워크 인터페이스 계층)
> 네트워크에 접속하는 하드웨어적인 면을 다룬다.

- 운영체제가 하드웨어를 제어하기 때문에 디바이스 드라이버랑 네트워크 인터페이스 카드(NIC)를 포함한다.
- 케이블 등과 같이 물리적으로 보이는 부분이라도 하드웨어 적 측면은 모두 링크 계층의 역할이다.

### TCP / IP 통신의 흐름
![](https://t1.daumcdn.net/cfile/tistory/99F730465E54A0DE24)

- 송신하는 측은 애플리케이션 계층에서부터 내려가고, 수신하는 측은 애플리케이션 계층으로 올라간다.

#### HTTP로 알아보기
1. 먼저 송신측 클라이언트의 애플리케이션 계층(HTTP)에서 어느 웹페이지를 보고 싶다라는 HTTP 리퀘스트를 지시
2. 트랜스포트 계층(TCP)에서 애플리케이션 계층에서 받은 데이터(HTTP 메시지)를 통신하기 쉽게 조각내어 안내 번호와 포트번호를 붙여 네트워크 계층에 전달한다
3. 네트워크 계층(IP)에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달한다.
4. 네트워크를 통해 송신 준비 완료
5. 수신측 서버는 링크 계층에서 데이터를 받아들여 순서대로 위의 계층에 전달하여 애플리케이션 계층까지 도달한다.
6. 애플리케이션 계층에 도달하게 되면 드디어 HTTP 리퀘스트 내용을 수신할 수 있다.

> 각 계층을 거칠 때 반드시 헤더로 불려지는 해당 계층마다 해당 계층에 필요한 정보를 추가한다.
> 반대로 수신측에서는 각 계층을 거칠 때마다 반드시 해당 계층마다 사용한 헤더를 삭제한다.

## 1.4 HTTP와 관계가 깊은 프로토콜은 IP / TCP / DNS

### 배송을 담당하는 IP
> IP(Internet Protocol)은 네트워크 계층에 해당된다.

> 주의: IP와 IP 주소를 혼동되기도 하는데 IP는 프로토콜의 명칭이다.

- IP의 역할은 개개의 패킷을 상대방에게 전달하는 것
- 그걸 하려면 여러가지 요소가 필요한데 그중에서도 IP 주소와 MAC(Media Access Control Address) 주소가 중요하다.
- IP 주소 - 각 노드에 부여된 주소를 가리킴
- MAC 주소 - 각 네트워크 카드에 할당된 고유의 주소
- IP 주소는 MAC 주소와 결부된다.
- IP 주소는 변경 가능하지만 기본적으로 MAC 주소는 변경이 불가능한다.

#### 통신은 ARP를 이용하여 MAC 주소에서 한다.
> IP 통신은 MAC 주소에 의존해서 통신을 한다.

- 보통 여러 대의 컴퓨터와 네트워크 기기를 중계해서 상대방에게 도착한다.
- 그렇게 중계하는 동안 다음으로 중계할 곳의 MAC 주소를 사용하여 목적지를 찾아가는 것이다.
- 이 때 ARP(Address Resolution Protocol)이라는 프로토콜이 사용된다.

> ARP는 주소를 해결하기 위한 프로토콜 중 하나, 수신지의 IP 주소를 바탕으로 MAC 주소를 조사할 수 있다.
#### 그 누구도 인터넷 전체를 파악하고 있지 않다.
> 목적지까지 중계를 하는 도중에 컴퓨터와 라우터 등의 네트워크 기기는 목적지에 도착하기까지 대략적인 목적지만을 알고 있다. 이러한 시스템을 **라우팅**이라고 부른다.

#### 신뢰성있는 바이트 스트림 서비스를 제공하는 TCP
> 바이트 스트림 서비스란? 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리하는 것

> TCP는 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대에게 보내고, 정확하게 도착했는지 확인하는 역할을 담당하고 있다.

- 상대에게 확실하게 데이터를 보내기 위해서 TCP는 **쓰리웨이 핸드셰이킹(three way handshaking)** 이라는 방법을 사용하고 있다.
- 이 방법은 패킷을 보내고 끝내는게 아닌 보내졌는지 여부를 상대에게 확인하러 간다.
- SYN과 ACK라는 TCP 플래그를 사용한다.

1. 송신측에서 최초 SYN 플래그로 상대에게 접속함과 동시에 패킷을 보냄
2. 수신측에서는 SYN/ACK 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 전달함
3. 마지막으로 송신측이 ACK 플래그를 보내 패킷 교환이 완료되었음을 전함
4. 어디선가 통신이 도중에 끊어진다면 TCP는 그와 동시에 같은 수순으로 패킷을 재전송함

> 쓰리웨이 핸드셰이킹 외에도 통신의 신뢰성을 보증하기 위해 다양한 시스템을 갖추고 있다.

## 1.5 이름 해결을 담당하는 DNS

> DNS(Domain Name System)은 HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공한다.

> DNS는 도메인명에서 IP 주소를 조사하거나 반대로 IP 주소로부터 도메인명을 조사하는 서비스를 제공하고 있다.

## 1.6 이들과 HTTP와의 관계

![](https://velog.velcdn.com/images/lsh2613/post/d44ff1bb-149c-41ba-9780-1817e5d2292d/image.png)

## 1.7 URI와 URL

> URI는 Uniform Resource Identifiers의 약자

### Uniform
> 통일된 서식을 결정하는 것, 여러가지 종류의 리소스 지정 방법을 같은 맥락에서 구별없이 취급할 수 있게한다.
> 또한 새로운 스키마 도입을 용이하게 한다.

### Resource
> 리소스는 '식별 가능한 모든 것'이라고 정의되어 있다.
> document 파일 뿐만 아니라 이미지와 서비스등 다른 것과 구별 가능한 것은 모두 리소스이다.

### Identifier
> 식별 가능한 것을 참조하는 오브젝트이며 식별자로 불린다.
> 결국 URI는 스키마를 나타내는 리소스를 식별하기 위한 식별자이다.
> 스키마는 리소스를 얻기 위한 수단에 이름을 붙이는 방법이다.


HTTP의 경우에는 http를 사용한다. 그 외에도 ftp나 mailto, telnet 등이 있다.

> URI는 리소스를 식별하기 위해 문자열 전반을 나태는데 비해 URL은 리소스의 장소(네트워크 상의 위치)를 나타낸다. URL은 URI의 서브셋이다.

### URL 포맷
![](https://creatijin.netlify.app/static/31926d15283b15ffbc175418a7640eb1/db3a4/http_ex_01.jpg)

> 'http:'나 'https:와 같은 스키마를 사용하여 리소스를 얻기 위해 사용하는 프로토콜을 지시한다. 대소문자는 무시되고 마지막에 콜론이 하나 붙는다. 'data:'와 'javascript:' 같이 데이터와 프로그램을 지정할 수도 있다.

#### 자격정보
> 서버로부터 리소스를 취득하려면 자격정보가 필요하다. 유저명과 패스워드를 지정할 수 있다. (optional)

#### 서버 주소
> 완전 수식 형식인 URI에서는 서버 주소를 지정할 필요가 있다.
> 주소는 DNS("www.naver.com") 이거나 "192.156.1.1"과 같은 IPv4 주소, "[0:0:0:0:0:0:1]"과 같은 IPv6 주소를 대괄호로 묶어서 지정한다.

#### 서버 포트
> 서버의 접속 대상이 되는 네트워크 포트 번호를 지정한다. (optional이지만 생략하면 디폴트 포트가 사용된다.)

#### 계층적 파일패스
> 특정 리소스를 식별하기 위해서 서버 상의 파일 패스를 지정한다.

#### 쿼리 문자열
> 파일 패스로 지정된 리소스에 임의의 파라미터를 넘겨주기 위해 쿼리 문자열을 사용한다. (optional)

#### 프래그먼트 식별자
> 주로 취득한 리소스에서 서브 리소스를 가치키기 위해서 프래그먼트가 사용된다. (optional)
