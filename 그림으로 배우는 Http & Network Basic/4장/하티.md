# 04. 결과를 전달하는 HTTP 상태 코드

## 상태 코드

- 서버가 리퀘스트를 처리한 결과가 어떻게 되었는지 알려주는 것
- 3자리 숫자 + 설명
    - 숫자의 첫 번째 자리: 리스폰스의 클래스

### 상태 코드 클래스

1xx : `Informational` 리퀘스트를 받아들여 처리중

2xx : `Success` 리퀘스트를 정상적으로 처리함

3xx : `Redirection` 리퀘스트를 완료하기 위해 추가 동작이 필요함

4xx : `Client Error` 서버가 리퀘스트 이해 불가능

5xx : `Server Error` 서버가 리퀘스트 처리 실패

## 2xx Success

- 200 OK
    - 리퀘스트를 정상적으로 처리함
- 204 No Content
    - 리퀘스트를 정상적으로 처리했지만, 엔티티 바디가 포함되지 않는다.
    - 클라이언트 → 서버로 정보를 보내기만 하고, 서버 → 클라이언트로 새로운 정보를 보낼 필요가 없는 경우
- 206 Partial Content
    - Range에 의해서 범위가 지정된 리퀘스트에 의해  부분적 GET request를 받았음을 나타낸다.
    - Content-Range로 지정된 범위의 엔티티가 포함된다.

## 3xx Redirection

- 301 Moved Permanently
    - request 리소스에 새로운 URI가 부여되어 있으므로, 앞으로는 그 리소스를 참조하는 URI를 사용해야 함을 나타낸다.
    - e.g. 디렉토리를 지정했을 때, `/` 를 빼먹은 경우 등
- 302 Found
    - request 리소스에 새로운 URI가 부여되어 있으므로, 그 URI를 참조해 주길 바람을 의미한다.
    - 301과 다른 점: 영구적인 이동이 아닌, 일시적인 것
- 303 See Other
    - 리퀘스트에 대한 리소스는 다른 URI에 있으므로 GET 메소드를 사용해서 얻어야 함을 의미한다.
    - 302와 다른 점: GET 메소드로 리다이렉트 장소를 얻어야 한다고 명확하게 되어있음
- 304 Not Modified
    - 클라이언트가 조건부 리퀘스트를 했을 때, 리소스에 대한 액세스는 허락하지만, 조건이 충족되지 않음을 의미한다.
    - 사실 리다이렉트와는 관계가 없다.
- 307 Temporary Redirect
    - 302 Found와 같은 의미지만, POST → GET 치환하지 않음.

## 4xx Client Error

- 400 Bad Request
    - 리퀘스트 구문이 잘못되었다..
- 401 Unauthorized
    - 최초의 401 리스폰스: 리퀘스트에 HTTP 인증 정보가 필요함을 나타낸다.
    - 두 번째 401 리스폰스: 유저 인증에 실패했음을 나타낸다.
- 403 Forbidden
    - 리퀘스트된 리소스의 액세스가 거부되었음을 나타낸다.
    - 거부 이유를 명확하게 하는 경우, 엔티티 바디에 기재해서 유저 측에 표시한다.
    - e.g. 퍼미션이 부여되지 않은 경우, 액세스 권한에 문제가 있는 경우 등
- 404 Not Found
    - 리퀘스트한 리소스가 서버 상에 없음을 나타낸다.
    - 리퀘스트를 거부하고 싶은 이유를 분명히 하고 싶지 않은 경우에도 이용할 수 있다.

## 5xx Server Error

- 500 Internal Server Error
    - 서버에서 리퀘스트를 처리하는 도중에 에러가 발생했음을 나타낸다.
    - e.g. 웹 어플리케이션에서 에러가 발생, 혹은 일시적인 경우
- 503 Service Unavaliable
    - 일시적으로 서버가 과부하 상태이거나 점검 중이어서 현재 리퀘스트를 처리할 수 없음을 나타낸다.
    - 시간이 걸릴 때는 Retry-After 헤더 필드에 따라 클라이언트에 전달하는 것이 바람직하다.